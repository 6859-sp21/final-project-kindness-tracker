(this["webpackJsonpkindness-tracker"]=this["webpackJsonpkindness-tracker"]||[]).push([[0],{52:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var c=n(3),o=n.n(c),i=n(45),r=n.n(i),a=(n(52),n(0)),s=n(46),l=n.n(s),u=(n(11),n(4)),d=n(1),f=n(17),j=n(12),p=n.n(j),b=(n(78),"ID NUMBER on kindness card"),h="[Optional] Tell us about the act of kindness you received!",O=function(){u.selectAll(".circle").transition().duration(500).style("fill","steelblue")},y=(n(79),{width:"100vw",height:"100vh",position:"absolute"}),m=39.8283,v=-98.5795,x=3.75;p.a.accessToken="pk.eyJ1IjoiY21vcm9uZXkiLCJhIjoiY2tudGNscDJjMDFldDJ3b3pjMTh6ejJyayJ9.YAPmFkdy_Eh9K20cFlIvaQ";var k=function(e){var t=e.data,n=e.selectedNode,o=e.setSelectedNode,i=e.traceNode,r=e.traceList,s=e.setTraceList,l=e.traceIndex,j=Object(c.useState)(null),k=Object(a.a)(j,2),T=k[0],L=k[1],C=Object(c.useRef)(null),N=(t||[]).map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{index:t})})),g=function(e){return"circle-".concat(e.index)};return Object(c.useEffect)((function(){T||function(e){var t=e.setMap,n=e.mapContainer,c=new p.a.Map({container:n.current,style:"mapbox://styles/mapbox/light-v10",center:[v,m],zoom:x});c.on("load",(function(){t(c)}))}({setMap:L,mapContainer:C})}),[T]),Object(c.useEffect)((function(){if(T&&null!==t){var e=T.getCanvasContainer(),n=u.select(e).append("svg").attr("width","100%").attr("height","100%").style("position","absolute").style("z-index",2).style("top",0).style("left",0),c=function(e){var t=e.CenterLon,n=e.CenterLat;return T.project(new p.a.LngLat(t,n))},i=n.selectAll("circle").data(N).enter().append("circle").attr("class","circle").attr("id",g).attr("r",10).style("fill","steelblue").on("mouseover",(function(e,t){!function(e,t){var n=u.select(".map-tooltip");n.transition().duration(0).style("opacity",.8).style("left","".concat(e.pageX+50,"px")).style("top","".concat(e.pageY-50,"px"));var c=t["CITY where act of kindness took place"],o=t.STATE,i=t[h]||"A random act of kindess took place!",r="<p><b>".concat(c,", ").concat(o,"</b></p><p>").concat(i,"</p>");n.html(r)}(e,t)})).on("mouseout",(function(e,t){u.select(".map-tooltip").transition().duration(500).style("opacity",0)})).on("click",(function(e,t){O(),u.select("#".concat(g(t))).transition().duration(500).style("fill","red"),e.target,T.flyTo({center:[t.CenterLon,t.CenterLat],zoom:15,essential:!0}),o(t)})),r=function(){i.attr("cx",(function(e){return c(e).x})).attr("cy",(function(e){return c(e).y}))};return T.on("viewreset",r),T.on("move",r),T.on("moveend",r),T.on("load",(function(){T.resize()})),r(),function(){return T.remove()}}}),[T,t]),Object(c.useEffect)((function(){T&&t&&!n&&(T.flyTo({center:[v,m],zoom:x,essential:!0}),O())}),[T,t,n]),Object(c.useEffect)((function(){if(i){var e=N.filter((function(e){return e[b]==i[b]}));O(),u.selectAll(".circle").filter((function(e){return e[b]==i[b]})).transition().duration(500).style("fill","purple"),T.flyTo({center:[v,m],zoom:x,essential:!0}),s(e)}}),[i]),Object(c.useEffect)((function(){if(T&&r&&l>-1){var e=r[l];T.flyTo({center:[e.CenterLon,e.CenterLat],zoom:15,essential:!0}),O(),u.selectAll(".circle").filter((function(e){return e[b]==i[b]})).transition().duration(500).style("fill","purple"),u.select("#".concat(g(r[l]))).transition().duration(500).style("fill","green")}}),[l]),Object(d.jsx)("div",{ref:function(e){return C.current=e},style:y,children:Object(d.jsx)("div",{className:"map-tooltip",style:{opacity:0},children:Object(d.jsx)("p",{children:"Tooltip contents will go here."})})})},T=(n(80),function(e){var t=e.selectedNode,n=e.setSelectedNode,c=e.setTraceNode,o=e.traceList,i=e.setTraceList,r=e.traceIndex,a=e.setTraceIndex;return Object(d.jsxs)("div",{className:"sidebar-flex",children:[Object(d.jsx)("h1",{children:"Kindess Tracker"}),Object(d.jsx)("h3",{children:t?t.STATE:null}),Object(d.jsx)("h3",{children:t?t[h]:null}),t?Object(d.jsx)("button",{onClick:function(){n(null),i([]),a(-1)},children:"Clear Selected Node"}):null,t?Object(d.jsx)("button",{onClick:function(){return c(t)},children:"Trace this Act!"}):null,o?o.map((function(e,t){return Object(d.jsx)("p",{onClick:function(){return a(t)},style:{color:t==r?"blue":"white",cursor:"pointer"},children:e[b]},t)})):null]})}),L=n(18),C=n.n(L),N=n(47);n(81);C.a.workerClass=N.a,C.a.accessToken="pk.eyJ1IjoiY21vcm9uZXkiLCJhIjoiY2tudGNscDJjMDFldDJ3b3pjMTh6ejJyayJ9.YAPmFkdy_Eh9K20cFlIvaQ";var g=function(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(null),r=Object(a.a)(i,2),s=r[0],u=r[1],f=Object(c.useState)(null),j=Object(a.a)(f,2),p=j[0],b=j[1],h=Object(c.useState)([]),O=Object(a.a)(h,2),y=O[0],m=O[1],v=Object(c.useState)(-1),x=Object(a.a)(v,2),L=x[0],C=x[1];return Object(c.useEffect)((function(){null===n&&l.a.init({key:"https://docs.google.com/spreadsheets/d/1IqEBIcnFZ_BFCrD8jhk11yVoOjfxzZpiZLdL4cL3oK0/pubhtml",simpleSheet:!0}).then((function(e){o(e)})).catch(console.warn)}),[n]),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("div",{className:"horizontal-stack",children:[Object(d.jsx)("div",{className:"left-sidebar",children:Object(d.jsx)(T,{selectedNode:s,setSelectedNode:u,setTraceNode:b,traceList:y,setTraceList:m,traceIndex:L,setTraceIndex:C})}),Object(d.jsx)("div",{className:"map-wrapper",children:Object(d.jsx)(k,{data:n,selectedNode:s,setSelectedNode:u,traceNode:p,traceList:y,setTraceList:m,traceIndex:L})})]})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),i(e),r(e)}))};r.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root")),I()}},[[82,1,2]]]);
//# sourceMappingURL=main.b81e6b45.chunk.js.map