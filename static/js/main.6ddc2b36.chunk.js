(this["webpackJsonpkindness-tracker"]=this["webpackJsonpkindness-tracker"]||[]).push([[0],{127:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(31),A=n.n(r),o=(n(127),n(3)),s=n(108),i=n.n(s),l=n(17),d=n(9),g=n(1),u=n(35),j=n.n(u),b="https://docs.google.com/spreadsheets/d/1IqEBIcnFZ_BFCrD8jhk11yVoOjfxzZpiZLdL4cL3oK0/pubhtml",f="What is the ID Number on your kindness card? (We need this to track the spread of kindness!)",h="street_name",Q="admin_level_3",y="admin_level_1",B="zip_code",I="Tell us about the act of kindness you received!",p="center_lng",m="center_lat",G=n(68),O=n(69),v="lng",D="lat",x=function(e,t){return!(!e||!t)&&e.index==t.index},M=function(e,t){var n=t[f];return(0===n?e:e.filter((function(e){return e[f]===n||0===e[f]}))).sort((function(e,t){return e.dateTime.toMillis()-t.dateTime.toMillis()}))},w=function(e){var t=e.street_number,n=e.street_name,a=t&&n?"".concat(t?"".concat(t," "):null).concat(n):null,c=e.admin_level_3,r=e.admin_level_1,A=c||r?"".concat(c).concat(c?", ".concat(r):r):null,o=e.zip_code,s="".concat(a||"No street address provided","\n").concat(A||"No city/state provided").concat(o?"\n".concat(o):"");return{kindness:e[I],dateString:e.dateTime.toLocaleString(O.DateTime.DATETIME_SHORT),location:s,cityState:A}},E=function(e){d.select(".map-tooltip").transition().duration(500).style("opacity",0).on("end",e)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steelblue";return d.selectAll(".circle").transition().duration(500).style("fill",e).style("opacity",1)},Y=function(e){return"circle-".concat(e.index)},N=function(e){return"circle circle-".concat(e[f])},k=function(e,t){return e.project(new j.a.LngLat(t.center_lng,t.center_lat))},K=function(e){d.selectAll(".circle").attr("cx",(function(t){return k(e,t).x})).attr("cy",(function(t){return k(e,t).y}))},S=function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=0,c=0;n||(a=t/69),c=a;var r=arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?1:5,A=function(t){return e.map((function(e){return e[t]}))},o=Math.max.apply(Math,Object(l.a)(A(v))),s=Math.min.apply(Math,Object(l.a)(A(v))),i=Math.max.apply(Math,Object(l.a)(A(D))),d=Math.min.apply(Math,Object(l.a)(A(D)));return n&&(a=(o-s)*t,c=12*t*(i-d)),{topRight:{lng:o+a,lat:d+c},bottomLeft:{lng:s-a*r,lat:i-c}}}(e.map((function(e){return{lng:e.center_lng,lat:e.center_lat}})),e.length>1?.1:1,e.length>1,e.length>1)},T=function(e){setTimeout((function(){d.select(".map-svg").selectAll("use").remove(),d.select(".map-svg").append("use").attr("xlink:href",e)}),500)},U=n(28),z=function(e){return[e.center_lng,e.center_lat]},H=function(e){return"".concat(e,"-point")},F=function(e,t,n){var a="".concat(t.hash," -> ").concat(n.hash),c=H(a);if(e.getSource(a))return a;var r=function(e,t){return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[z(e),z(t)]}}]}}(t,n),A=function(e){for(var t=U.length(e.features[0]),n=Math.max(Math.floor(t/10),100),a=[],c=0;c<t;c+=t/n){var r=U.along(e.features[0],c);a.push(r.geometry.coordinates)}var A=U.along(e.features[0],t);return a.push(A.geometry.coordinates),e.features[0].geometry.coordinates=a,{route:e,numSteps:n}}(r),o=A.route,s=A.numSteps;console.log(s,"!!!!!!");var i={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:z(t)}}]};e.addSource(a,{type:"geojson",data:o}),e.addLayer({id:a,source:a,type:"line",paint:{"line-width":5,"line-color":"#007cbf"},layout:{"line-cap":"round","line-join":"round"}}),e.loadImage("data:image/png;base64,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",(function(t,n){if(t)throw t;e.addImage("arrow",n)})),e.addSource(c,{type:"geojson",data:i}),e.addLayer({id:c,source:c,type:"symbol",layout:{"icon-image":"arrow","icon-rotate":["get","bearing"],"icon-rotation-alignment":"map","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.1}});var l=0;return function t(){var n=r.features[0].geometry.coordinates[l>=s?l-1:l],a=r.features[0].geometry.coordinates[l>=s?l:l+1];if(n&&a){i.features[0].geometry.coordinates=r.features[0].geometry.coordinates[l],i.features[0].properties.bearing=U.bearing(U.point(n),U.point(a));var A=e.getSource(c);A&&(A.setData(i),l<s||(l=-1),requestAnimationFrame(t),l+=1)}}(),a},J=function(e,t){if(t){e.removeLayer(t),e.removeSource(t);var n=H(t);e.removeLayer(n),e.removeSource(n)}},L=n(54),Z=function(e){var t=e.node,n=e.isSelected;if(!t)return null;console.log("rendering tooltip");var a,c,r=w(t),A=r.kindness,o=r.cityState;return Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:Object(g.jsx)("b",{children:(a=A,c=140,a.length>c?"".concat(a.substring(0,c),"..."):a)})}),Object(g.jsx)("p",{children:Object(g.jsx)("i",{children:o})}),Object(g.jsx)("p",{children:n?null:"Click for more info!"})]})},P="default",W="selected",R="searching",X="tracing";n(152);j.a.accessToken="pk.eyJ1IjoiY21vcm9uZXkiLCJhIjoiY2tudGNscDJjMDFldDJ3b3pjMTh6ejJyayJ9.YAPmFkdy_Eh9K20cFlIvaQ",j.a.workerClass=L.a;var V=function(e){var t=e.trace,n=e.setIsLoading,c=e.selectedNode,r=e.setSelectedNode,A=e.hoveredNode,s=e.setHoveredNode,i=e.mode,l=e.setTrace,u=e.resetTrace,b=Object(a.useState)(null),h=Object(o.a)(b,2),Q=h[0],y=h[1],B=Object(a.useState)(null),I=Object(o.a)(B,2),p=I[0],m=I[1],G=Object(a.useRef)(null),O=Object(a.useState)(null),v=Object(o.a)(O,2),D=v[0],w=v[1],k=Object(a.useState)(null),U=Object(o.a)(k,2),z=U[0],H=U[1];return Object(a.useEffect)((function(){if(null===Q)!function(e){var t=e.setMap,n=e.mapContainer,a=new j.a.Map({container:n.current,style:"mapbox://styles/mapbox/light-v10",center:[-100,40],zoom:3});a.on("load",(function(){t(a)}))}({setMap:y,mapContainer:G});else{var e=Q.getCanvasContainer();d.select(e).append("svg").attr("class","map-svg").attr("width","100%").attr("height","100%").style("position","absolute").style("z-index",2).style("top",0).style("left",0),Q.on("viewreset",(function(){return K(Q)})),Q.on("move",(function(){return K(Q)})),Q.on("moveend",(function(){return K(Q)}))}}),[Q]),Object(a.useEffect)((function(){if(Q&&t){console.log(">>> JOINING"),d.select(".map-svg").selectAll("circle").data(t,(function(e){return e.hash})).join((function(e){return e.append("circle").attr("id",Y).attr("class",N).attr("r",10).style("fill","steelblue").style("opacity",(function(e){return c&&x(e,c)?1:c&&!x(e,c)?.5:1})).on("click",(function(e,t){return r(t)})).on("mouseover",(function(e,t){s(t),function(e,t){d.select(".map-tooltip").transition().duration(0).style("opacity",.8).style("left","".concat(e.pageX+50,"px")).style("top","".concat(e.pageY-50,"px"))}(e)})).on("mouseout",(function(e,t){E((function(){return s(null)}))}))}),(function(e){return e}),(function(e){return e.remove()})),K(Q),n(!1);var e=S(t);m(e)}}),[Q,t]),Object(a.useEffect)((function(){Q&&p&&(!function(e,t){var n=t.topRight,a=t.bottomLeft;e.fitBounds([[a.lng,a.lat],[n.lng,n.lat]],{duration:3e3})}(Q,p),setTimeout((function(){return E((function(){return s(null)}))}),500))}),[Q,p]),Object(a.useEffect)((function(){if(i===W&&c){C().style("opacity",.5);var e="#".concat(Y(c));d.select(e).transition().duration(500).style("fill","red").style("opacity",1).attr("r",10),T(e);var n=S([c]);m(n)}else if(i!==P&&i!==R||!t){if(i===X){if(0===c[f]){var a=S(t);m(a)}var r=function(){var e,n,a=function(e,t){var n=e.indexOf(t);return{prevNode:n>0?e[n-1]:null,nextNode:n<e.length-1?e[n+1]:null}}(t,c),r=a.prevNode,A=a.nextNode;r&&(e=F(Q,r,c)),A&&(n=F(Q,c,A)),D!==e&&D!==n&&J(Q,D),z!==e&&z!==n&&J(Q,z),w(e),H(n);var o=[c];r&&o.push(r),A&&o.push(A);var s=S(o);return m(s),{nodes:o}}().nodes;console.log(r,"jaflfjljfjslfjks"),d.selectAll(".circle").filter((function(e){return-1===r.indexOf(e)})).transition().duration(500).style("fill","purple").style("opacity",0).attr("r",10),d.selectAll(".circle").filter((function(e){return r.indexOf(e)>-1&&e.hash!==c.hash})).transition().duration(500).style("fill","purple").style("opacity",1).attr("r",10);var A="#".concat(Y(c));d.select(A).transition().duration(500).style("fill","green").attr("r",20).style("opacity",1),T(A)}}else{var o=S(t);m(o),C()}}),[i,c,t]),Object(a.useEffect)((function(){if(i!==X)Q&&(J(Q,D),J(Q,z),w(null),H(null)),i===P?u():i===R||i===W&&u();else{var e=M(t,c);l(e)}}),[i]),Object(g.jsx)("div",{ref:function(e){return G.current=e},className:"map-container-div",children:i!==X?Object(g.jsx)("div",{className:"map-tooltip",style:{opacity:0},children:Object(g.jsx)(Z,{node:A,isSelected:x(A,c)})}):null})},q=n(210),_=(n(153),function(e){var t=e.node;if(console.log("rendering card"),!t)return null;console.log(t);var n=w(t),a=n.kindness,c=n.dateString,r=n.location;return Object(g.jsxs)("div",{className:"kindness-card-inner",children:[Object(g.jsx)("p",{children:"Act of Kindness:"}),Object(g.jsx)("div",{className:"kindness-card-description",children:Object(g.jsx)("p",{children:Object(g.jsx)("b",{children:a||"No kindness description provided!"})})}),Object(g.jsx)("p",{children:"Location:"}),Object(g.jsx)("p",{children:Object(g.jsx)("b",{children:r})}),Object(g.jsx)("p",{children:"Date & Time:"}),Object(g.jsx)("p",{children:Object(g.jsx)("b",{children:c})})]})}),$=(n(154),function(){return console.log("rendering loading"),Object(g.jsxs)("div",{className:"loading-wrapper",children:[Object(g.jsx)("div",{className:"la-ball-clip-rotate la-2x",children:Object(g.jsx)("div",{})}),Object(g.jsx)("p",{children:"Loading..."})]})}),ee=n(110),te=n.n(ee),ne=n(111),ae=n.n(ne),ce=n(112),re=n.n(ce),Ae=n(67),oe=n.n(Ae),se=function(){return console.log("rendering side info card"),Object(g.jsxs)("div",{children:[Object(g.jsx)("hr",{className:"sidebar-divider"}),Object(g.jsxs)("div",{className:"sidebar-info-row",children:[Object(g.jsx)("div",{className:"sidebar-info-left",children:Object(g.jsx)(te.a,{fontSize:"large"})}),Object(g.jsx)("div",{className:"sidebar-info-right",children:Object(g.jsxs)("p",{children:[Object(g.jsx)("b",{children:"Click"})," a circle to explore that act of kindness further!"]})})]}),Object(g.jsxs)("div",{className:"sidebar-info-row",children:[Object(g.jsx)("div",{className:"sidebar-info-left",children:Object(g.jsx)(ae.a,{fontSize:"large"})}),Object(g.jsx)("div",{className:"sidebar-info-right",children:Object(g.jsxs)("p",{children:["Then, you can ",Object(g.jsx)("b",{children:"trace"})," that act of kindness to see how may people have paid it forward."]})})]}),Object(g.jsxs)("div",{className:"sidebar-info-row sidebar-info-row-toggle",children:[Object(g.jsx)("div",{className:"sidebar-info-left",children:Object(g.jsx)(re.a,{fontSize:"large"})}),Object(g.jsx)("div",{className:"sidebar-info-right",children:Object(g.jsxs)("p",{children:["Switch between ",Object(g.jsx)("b",{children:"real-time"})," and ",Object(g.jsx)("b",{children:"generated"})," data using the toggle below."]})})]}),Object(g.jsxs)("div",{className:"sidebar-info-row sidebar-info-row-search",children:[Object(g.jsx)("div",{className:"sidebar-info-left",children:Object(g.jsx)(oe.a,{fontSize:"large"})}),Object(g.jsx)("div",{className:"sidebar-info-right",children:Object(g.jsxs)("p",{children:[Object(g.jsx)("b",{children:"Search"})," for acts of kindness by description, location, or ID."]})})]})]})},ie=n(113),le=n.n(ie),de=n(114),ge=n.n(de),ue=function(e){var t=e.exitTraceMode,n=e.trace,a=e.selectedNode,c=e.setSelectedNode;console.log("rendering trace");var r=n.indexOf(a),A=n.length;return Object(g.jsxs)("div",{className:"trace-stepper-wrapper",children:[Object(g.jsx)("div",{className:"trace-stepper-button-exit",children:Object(g.jsx)(q.a,{variant:"contained",style:{backgroundColor:"red",color:"white"},onClick:t,children:"Exit Trace Mode"})}),Object(g.jsxs)("div",{className:"trace-stepper-button-horizontal",children:[Object(g.jsx)(q.a,{className:"trace-stepper-button",variant:"contained",color:"primary",disabled:0===r,onClick:function(){return c(n[0])},children:"First"}),Object(g.jsx)(q.a,{className:"trace-stepper-button",variant:"contained",color:"primary",disabled:0===r,onClick:function(){return c(n[r-1])},children:Object(g.jsx)(le.a,{})}),Object(g.jsx)(q.a,{className:"trace-stepper-button",variant:"contained",color:"primary",disabled:r===A-1,onClick:function(){return c(n[r+1])},children:Object(g.jsx)(ge.a,{})}),Object(g.jsx)(q.a,{className:"trace-stepper-button",variant:"contained",color:"primary",disabled:r===A-1,onClick:function(){return c(n[A-1])},children:"Last"})]}),Object(g.jsx)("p",{children:"".concat(r+1," / ").concat(n.length)}),Object(g.jsx)(_,{node:a})]})},je=n(211),be=n(212),fe=function(e){var t=e.dataUrl,n=e.setDataUrl,a=t===b,c=t===b?"Viewing Real Data":"Viewing Fake Data";return Object(g.jsx)(je.a,{control:Object(g.jsx)(be.a,{checked:a,onChange:function(e){var t=e.target.checked;n(t?b:"https://docs.google.com/spreadsheets/d/1ILNeaJC675bNSCWHgAK-2hD6MNZB38PYh7Y90MncF50/pubhtml")},color:"primary"}),labelPlacement:"top",label:c})},he=function(e){var t=e.isLoading,n=e.selectedNode,a=e.setSelectedNode,c=e.clearSelectedNode,r=e.mode,A=e.setMode,o=e.trace,s=e.dataUrl,i=e.setDataUrl,l=e.filterText;console.log("rendering sidebar");var d=0;n&&(d=M(o,n).length);return Object(g.jsxs)("div",{className:"sidebar-flex",children:[Object(g.jsx)("h1",{children:"Kindness Tracker"}),t?Object(g.jsx)($,{}):null,t||r!==P?null:Object(g.jsx)(se,{}),r===W?Object(g.jsxs)("div",{className:"sidebar-clear-div",children:[Object(g.jsx)(q.a,{variant:"contained",style:{backgroundColor:"red",color:"white"},className:"sidebar-button-below",onClick:c,children:"Clear Selection"}),Object(g.jsx)(q.a,{variant:"contained",style:{backgroundColor:"green",color:"white"},className:"sidebar-button-below",onClick:function(){return A(X)},children:"Trace this Act!"}),Object(g.jsx)("h1",{children:d}),Object(g.jsx)("p",{children:"acts of kindness are connected"})]}):null,r===W?Object(g.jsx)("div",{className:"selected-card-wrapper",children:Object(g.jsx)(_,{node:n})}):null,r===X?Object(g.jsx)(ue,{exitTraceMode:function(){return A(W)},trace:o,selectedNode:n,setSelectedNode:a}):null,r===R&&o.length>0?Object(g.jsxs)("div",{className:"sidebar-clear-div",children:[Object(g.jsx)("h1",{children:o.length}),Object(g.jsxs)("p",{children:[o.length>1?"acts":"act",' found for search query "',l,'".']}),Object(g.jsx)("p",{children:"Press Esc to clear."})]}):null,Object(g.jsxs)("div",{className:"sidebar-bottom-content",children:[Object(g.jsx)("div",{className:"data-toggle-outer",children:Object(g.jsx)(fe,{dataUrl:s,setDataUrl:i})}),Object(g.jsx)("p",{className:"sidebar-small-text",children:"Christian Moroney, Jackson Bernatchez, Kevin Lyons"}),Object(g.jsx)("p",{className:"sidebar-small-text",children:"6.859 Final Project Spring 2021"}),Object(g.jsx)("div",{children:Object(g.jsx)("a",{href:"https://github.com/6859-sp21/final-project-kindness-tracker",target:"_blank",children:Object(g.jsx)("img",{className:"sidebar-git-image",src:"https://image.flaticon.com/icons/png/512/25/25231.png"})})})]})]})},Qe=n(116),ye=n.n(Qe),Be=function(e){var t=e.filterNodes,n=e.filterText,a=e.setFilterText;return Object(g.jsx)(ye.a,{value:n||"",onChange:a,cancelOnEscape:!0,onRequestSearch:function(){return t(n)},onCancelSearch:function(){a(null),t(null)},placeholder:"Search for acts of kindness by description, location, or ID. Press Enter to search. \u23ce"})},Ie=n(71),pe=n.n(Ie),me=n(117),Ge=n.n(me);n(190);pe.a.workerClass=L.a,pe.a.accessToken="pk.eyJ1IjoiY21vcm9uZXkiLCJhIjoiY2tudGNscDJjMDFldDJ3b3pjMTh6ejJyayJ9.YAPmFkdy_Eh9K20cFlIvaQ";var Oe=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),A=Object(o.a)(r,2),s=A[0],l=A[1],d=Object(a.useState)(!0),u=Object(o.a)(d,2),j=u[0],v=u[1],D=Object(a.useState)(null),x=Object(o.a)(D,2),M=x[0],w=x[1],E=Object(a.useState)(null),C=Object(o.a)(E,2),Y=C[0],N=C[1],k=Object(a.useState)(b),K=Object(o.a)(k,2),S=K[0],T=K[1],U=Object(a.useState)(null),z=Object(o.a)(U,2),H=z[0],F=z[1],J=Object(a.useState)(null),L=Object(o.a)(J,2),Z=L[0],X=L[1],q=Object(a.useState)(P),_=Object(o.a)(q,2),$=_[0],ee=_[1];Object(a.useEffect)((function(){window.innerWidth<800&&alert("We see you're on mobile! Rotate your phone sideways for the best experience. Check out our app on your computer too!")}),[]);var te=function(){console.log("fetching!"),i.a.init({key:S,simpleSheet:!0}).then((function(e){var t=function(e){var t=e?e.map((function(e,t){return Object(G.a)(Object(G.a)({},e),{},{index:t,dateTime:O.DateTime.fromFormat(e.Timestamp,"M/d/yyyy H:mm:ss"),hash:"".concat(t,"-").concat(e.Timestamp)})})):null,n=[f,p,m];return t.map((function(e){return n.forEach((function(t){e[t]=+e[t]})),e}))}(e);c(t),l(t);var n=new Ge.a([f,I,h,Q,y,B]);n.addAll(t),F(n)})).catch(console.warn)};Object(a.useEffect)((function(){null===n&&te()}),[n]),Object(a.useEffect)((function(){null!==n&&(v(!0),w(null),X(null),N(null),ee(P),te())}),[S]);var ne=function(){return l(n)};return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("div",{className:"horizontal-stack",children:[Object(g.jsx)("div",{className:"left-sidebar",children:Object(g.jsx)(he,{isLoading:j,selectedNode:M,setSelectedNode:w,clearSelectedNode:function(){w(null),ee(P),X(null)},mode:$,setMode:ee,trace:s,dataUrl:S,setDataUrl:T,filterText:Z})}),Object(g.jsxs)("div",{className:"vertical-stack",children:[$===P||$===R?Object(g.jsx)("div",{className:"search-bar-wrapper",children:Object(g.jsx)(Be,{filterText:Z,setFilterText:X,filterNodes:function(e){if(v(!0),!e)return l(n),v(!1),void ee(P);var t=H.get(e);if(0===t.length)return alert("No results found! Try another search query."),v(!1),void ee(P);w(null),N(null),ee(R),l(t)}})}):null,Object(g.jsx)("div",{className:"map-wrapper",children:Object(g.jsx)(V,{trace:s,setIsLoading:v,selectedNode:M,setSelectedNode:function(e){ee(W),ne(),w(e)},hoveredNode:Y,setHoveredNode:N,mode:$,setTrace:l,resetTrace:ne})})]})]})})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,A=t.getTTFB;n(e),a(e),c(e),r(e),A(e)}))};A.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(Oe,{})}),document.getElementById("root")),ve()}},[[191,1,2]]]);
//# sourceMappingURL=main.6ddc2b36.chunk.js.map